{"version":3,"sources":["../../../../assets/Script/assets/Script/BlockConfig.js"],"names":["Direction","require","BlockConfig","burnPoint","initConfig","centerNode","right","cc","p","x","winSize","width","y","left","down","height","up","getBlockConfig10","random","rand","dir","Math","round","dirTab","first","getRandom","point","speed","second","getBlockConfig20","first_dir","first_dirTab","second_dir","second_dirTab","getBlockConfig30","getBlockConfig","score","randomRange","lastRandom","ret","undefined","module","exports"],"mappings":"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","file":"BlockConfig.js","sourceRoot":"../../../../assets/Script","sourcesContent":["var Direction = require(\"direction\");\nvar BlockConfig = {\n\n    burnPoint: [],\n\n    initConfig: function(centerNode) {\n        var right = [cc.p(centerNode.x - cc.winSize.width/2 - 40,centerNode.y + 80),cc.p(centerNode.x - cc.winSize.width/2 - 40,centerNode.y),cc.p(centerNode.x - cc.winSize.width/2 - 40,centerNode.y - 80)];\n        var left = [cc.p(centerNode.x + cc.winSize.width/2 + 40,centerNode.y + 80),cc.p(centerNode.x + cc.winSize.width/2 + 40,centerNode.y),cc.p(centerNode.x + cc.winSize.width/2 + 40,centerNode.y - 80)];\n        var down = [cc.p(centerNode.x - 80,centerNode.y + cc.winSize.height/2 + 40),cc.p(centerNode.x,centerNode.y + cc.winSize.height/2 + 40),cc.p(centerNode.x + 80,centerNode.y + cc.winSize.height/2 + 40)];\n        var up = [cc.p(centerNode.x - 80,centerNode.y - cc.winSize.height/2 - 40),cc.p(centerNode.x,centerNode.y - cc.winSize.height/2 - 40),cc.p(centerNode.x + 80,centerNode.y - cc.winSize.height/2 - 40)];\n        \n        this.burnPoint[Direction.left] = left;\n        this.burnPoint[Direction.right] = right;\n        this.burnPoint[Direction.up] = up;\n        this.burnPoint[Direction.down] = down;\n    },\n\n    getBlockConfig10: function() {\n        var random = cc.rand();\n        var dir = Math.round(random) % 4;\n        var dirTab = [];\n        dirTab = this.burnPoint[dir];\n\n        var first = this.getRandom(3);\n        return {first:{point:dirTab[first],dir:dir,speed:5},second:null};\n    },\n\n    getBlockConfig20: function() {\n        var random = cc.rand();\n        var first_dir = Math.round(random) % 4;\n        var first_dirTab = [];\n        first_dirTab = this.burnPoint[first_dir];\n\n        var first = this.getRandom(3);\n        var second = this.getRandom(3);\n        var second_dir = first_dir + 1;\n        if (first_dir === Direction.right) {\n            second_dir = Direction.left;\n        }\n        if (first_dir === Direction.down) {\n            second_dir = Direction.up;\n        }\n        var second_dirTab = this.burnPoint[second_dir];\n        return {first:{point:first_dirTab[first],dir:first_dir,speed:5},\n                second:{point:second_dirTab[second],dir:second_dir,speed:5}};\n    },\n\n    getBlockConfig30: function() {\n        var random = cc.rand();\n        var dir = Math.round(random) % 4;\n        var dirTab = [];\n        dirTab = this.burnPoint[dir];\n        \n        var first = this.getRandom(3);\n        var second = this.getRandom(3, first);\n        return {first:{point:dirTab[first],dir:dir,speed:5.5},\n            second:{point:dirTab[second],dir:dir,speed:6.5}};\n    },\n\n    getBlockConfig: function(score) {\n        if (score <= 10) {\n            return this.getBlockConfig10();\n        } else if (score <= 20) {\n            return this.getBlockConfig20();\n        } else if (score <= 30) {\n            return this.getBlockConfig30();\n        }\n        var random = cc.rand();\n        var dir = Math.round(random) % 4;\n        var dirTab = [];\n        dirTab = this.burnPoint[dir];\n        \n        var first = this.getRandom(3);\n        var second = this.getRandom(3, first);\n        return {first:{point:dirTab[first],dir:dir,speed:6},\n        second:{point:dirTab[second],dir:dir,speed:6}};\n    },\n\n    getRandom: function(randomRange, lastRandom) {\n        var random = cc.rand();\n        var ret = Math.round(random) % randomRange;\n        if(lastRandom != undefined && lastRandom == ret) {\n            return this.getRandom(randomRange, lastRandom);\n        }\n        return ret;\n    }\n};\n\nmodule.exports = BlockConfig;"]}